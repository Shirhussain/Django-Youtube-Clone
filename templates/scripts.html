{% load static %}
<script src="{% static 'streamtube/js/jquery.min.js' %}"></script>

<script src="{% static 'streamtube/js/bootstrap.min.js' %}"></script>

<script src="{% static 'assets/bootstrap/js/jquery-ui.js' %}"></script>

<script src="{% static 'admin-css/plugins/input-mask/jquery.inputmask.js' %}"></script>

<script type="text/javascript" src="{% static 'streamtube/js/jquery-migrate-1.2.1.min.js' %}"></script>

<script type="text/javascript" src="{% static 'streamtube/js/slick.min.js' %}"></script>

<script type="text/javascript" src="{% static 'streamtube/js/script.js' %}"></script>

<script src="{% static 'admin-css/plugins/select2/select2.full.min.js' %}"></script>


<!-- input Mask -->

<script src="{% static 'admin-css/plugins/input-mask/jquery.inputmask.js' %}"></script>

<script src="{% static 'admin-css/plugins/input-mask/jquery.inputmask.date.extensions.js' %}"></script>

<script src="{% static 'admin-css/plugins/input-mask/jquery.inputmask.extensions.js' %}"></script>    

<script src="{% static 'assets/js/jstz.min.js' %}"></script>

<script type="text/javascript">

    function updateTimezone() {

        var timezone = jstz.determine().name();

        $.post('timezone_save.html', {'timezone': timezone, 'is_json': 1})

        .done(function(response) {

        // $('#global-notifications-count').html(response.count);
        
    })
        .fail(function(response) {
        // console.log(response);
    })
        .always(function(response) {
        // console.log(response);
    });

    }

    $(window).load(function() {

        $('.placeholder').each(function () {
            var imagex = jQuery(this);
            var imgOriginal = imagex.data('src');
            $(imagex).attr('src', imgOriginal);
        });

        $('#preloader').fadeOut(2000);

    });

    $(document).ready(function() {

    //Initialize Select2 Elements

    $(".select2").select2();

    $("[data-mask]").inputmask();

    $('.video-list-slider').slick({
        dots: true,
        infinite: false,
        speed: 300,
        slidesToShow: 5,
        arrows: true,
        slidesToScroll: 5,
        responsive: [
        {
            breakpoint: 1200,
            settings: {
                slidesToShow: 4,
                slidesToScroll: 4,
                infinite: true,
                dots: true
            }
        },
        {
            breakpoint: 992,
            settings: {
                slidesToShow: 3,
                slidesToScroll: 3,
                infinite: true,
                dots: true
            }
        },
        {
            breakpoint: 600,
            settings: {
                slidesToShow: 2,
                slidesToScroll: 2
            } 
        },
        {
            breakpoint: 480,
            settings: {
                slidesToShow: 1,
                slidesToScroll: 1
            }
        }
            // You can unslick at a given breakpoint now by adding:
            // settings: "unslick"
            // instead of a settings object
            ]

        });


    $('.box').slick({
        dots: true,
        infinite: false,
        speed: 300,
        slidesToShow: 5,
        arrows: true,
        slidesToScroll: 5,
        responsive: [
        {
            breakpoint: 1200,
            settings: {
                slidesToShow: 4,
                slidesToScroll: 4,
                infinite: true,
                dots: true
            }
        },
        {
            breakpoint: 992,
            settings: {
                slidesToShow: 3,
                slidesToScroll: 3,
                infinite: true,
                dots: true
            }
        },
        {
            breakpoint: 600,
            settings: {
                slidesToShow: 2,
                slidesToScroll: 2
            } 
        },
        {
            breakpoint: 480,
            settings: {
                slidesToShow: 1,
                slidesToScroll: 1
            }
        }
            // You can unslick at a given breakpoint now by adding:
            // settings: "unslick"
            // instead of a settings object
            ]

        });
});


    $(document).on("click", ".notification-link a", function(){ 

        $.post('login.html', {'is_json': 1})

        .done(function(response) {

        //$('#global-notifications-count').html(response.count);
        return true;
        
    })
        .fail(function(response) {
            console.log(response);
        })
        .always(function(response) {
            console.log(response);
        });


    });

    jQuery(document).ready( function () {
    //autocomplete
    jQuery("#auto_complete_search").autocomplete({
        source: "http://streamtube.streamhash.com/user/searchall",
        minLength: 1,
        select: function(event, ui){

            // set the value of the currently focused text box to the correct value

            if (event.type == "autocompleteselect"){

                // console.log( "logged correctly: " + ui.item.value );

                var username = ui.item.value;

                if(ui.item.value == 'View All') {

                    // console.log('View AALLLLLLLLL');

                    window.location.href = "user/searchbbd9.html?q=all";

                } else {
                    // console.log("User Submit");

                    jQuery('#auto_complete_search').val(ui.item.value);

                    jQuery('#userSearch').submit();
                }

            }                        
        }      // select

    }); 

    jQuery("#auto_complete_search_min").autocomplete({
        source: "http://streamtube.streamhash.com/user/searchall",
        minLength: 1,
        select: function(event, ui){

            // set the value of the currently focused text box to the correct value

            if (event.type == "autocompleteselect"){

                // console.log( "logged correctly: " + ui.item.value );

                var username = ui.item.value;

                if(ui.item.value == 'View All') {

                    // console.log('View AALLLLLLLLL');

                    window.location.href = "user/searchbbd9.html?q=all";

                } else {
                    // console.log("User Submit");

                    jQuery('#auto_complete_search_min').val(ui.item.value);

                    jQuery('#userSearch_min').submit();
                }

            }                        
        }      // select

    }); 

});

    function notificationsStatusUpdate(){

        $.post('login.html', {'is_json': 1})

        .done(function(response) {

            var x = document.getElementById("viewAll");

            if (response.count == 0) {

                x.style.display = "none";
            } 
        })
        .fail(function(response) {
        // console.log(response);
    })
        .always(function(response) {
        // console.log(response);
    });
    }

</script>
